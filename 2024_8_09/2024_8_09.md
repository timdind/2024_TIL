# Next.js를 왜 써야함?

## Framework vs Library

> **React**는 라이브러리이고, **Next**는 React의 프레임워크이다.

→ 이 둘의 궁극적인 차이점은 응용 프로그램의 흐름 주도권을 누가 가지고 있느냐이다.

### 프레임워크?

→ 원하는 기능 구현에 집중하여 개발할 수 있도록 일정한 형태와 필요한 기능을 갖추고 있는 **골격 즉, 뼈대**를 의미한다.

→ 사용자는 코드를 작성하여 애플리케이션을 개발한다. 여기서 **앱/서버 등의 구동**, **메모리** **관리**, **이벤트** **루프** 등의 공통된 부분을 **프레임워크가** 관리한다.

### 라이브러리?

→ 컴퓨터 프로그램이 사용하는 **비휘발성 자원**의 모임. 즉, **특정 기능을 모아둔 코드** 혹은 **함수들의 집합**이며 코드 작성 시 활용 가능한 도구들을 의미한다.

## Next.js

<aside>
💡 SSR을 쉽게 구현하도록 도와주는 프레임워크

</aside>

→ **Next.js**는 **React**의 **SSR(Server Side Rendering)**을 쉽게 구현할 수 있게 도와주는 **프레임워크**다. 물론 **React**에서도 **SSR**이 구현이 가능함.

### But…

> **React**로 구현하는 것은 굉장히 복잡한 일이다. → 그래서 **Next.js**가 등장

### 그래서 왜 쓴다고?

> 가장 큰 이유 = **SSR, SSR vs CSR**의 차이를 알아야 함!(내일 공부를 하겠다.)

## React(CSR) = Client Side Rendering

- 유저가 브라우저를 통해 앱에 접속
- 앱은 브라우저에게 자바스크립트 정보가 들어있는 빈 **HTML** 문서를 전달 → 즉, **브라우저**에게 **자바스크립트** 파일을 전달
- **브라우저는** **자바스크립트** 파일을 다운로드하고 동시에 유저는 빈 화면을 보게 된다(접속에 대한 응답)
- **브라우저에서** **js** 파일의 다운로드가 끝나면 **리액트** **코드가** 있는 **js** 파일을 실행한다.
- **브라우저에** 있는 **리액트** **코드가** **UI**를 렌더링한다(동적으로 렌더링)
- 유저는 **앱이** 보여주고자 했던 **화면을** 보게 된다.

### 그래서 React는?

> 브라우저가 자바스크립트 코드를 가지고 있지 않거나, 요청 중인 상태라면 UI를 구성할 수 없고, 유저는 빈 화면을 보게 된다. **리액트 코드가 실행되기 전**까지는 유저 화면에 아무것도 보이지 않는다. 이러한 클라이언트 측에서 **UI**를 빌드하는게 **CSR** 방식.

## Next(SSR) = Server Side Rendering

- 유저가 브라우저를 통해 앱에 접속
- 서버에서 리액트를 실행
- 리액트는 UI를 렌더링
- **렌더링된** 결과를 통해 **브라우저에게** **HTML**을 제공한다. 이때 유저는 앱의 초기화면을 보게 된다(접속에 대한 응답)
- 이후 브라우저는 **리액트 코드**가 있는 **자바스크립트 파일**을 다운받고 실행시킨다. 이때부터는 **CSR**의 동작을 한다. → 이거를 **hydration**이라고 한다. 즉, 서버에서 **UI**를 모두 구성한 후 유저에게 응답해 화면을 보여주는 방식으로, 화면이 **pre-rendering**되어 유저는 인터넷 속도에 상관없이 화면에 나온다. → 이게 **SSR**이다.

### hydration?

<aside>
💡 **리액트 코드**가 **브라우저**에 이미 존재하는 **HTML**과 **동기화**하여 **앱이 동적**으로 **상호작용**할 수 있도록 하는 과정

</aside>
